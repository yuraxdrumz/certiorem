{"version":3,"sources":["webpack:///backend.js","webpack:///webpack/bootstrap 57b14cf6ed089702c31c","webpack:///external \"babel-polyfill\"","webpack:///./index.js","webpack:///./observer.js","webpack:///./observable.js","webpack:///external \"events\""],"names":["require","install","module","exports","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","createObservable","__WEBPACK_IMPORTED_MODULE_1__observable__","createObserver","parent","__WEBPACK_IMPORTED_MODULE_0__observer__","value","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","Observer","parentEmitter","this","label","removeListener","fn","addListener","bind","_parentEmitter","_len","arguments","args","Array","_key","childNotify","apply","concat","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0_events__","__WEBPACK_IMPORTED_MODULE_0_events___default","Observable","_EventEmitter","_this","getPrototypeOf","listeners","callback","push","observerName","index","len","includes","filter","forEach","listener","_len2","_key2","emit","a"],"mappings":"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","file":"backend.js","sourcesContent":["require(\"source-map-support\").install();\nmodule.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(1);\nmodule.exports = __webpack_require__(2);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"babel-polyfill\");\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createObservable\", function() { return createObservable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createObserver\", function() { return createObserver; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__observer__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__observable__ = __webpack_require__(4);\n\n\n\n// creates a new observable\nfunction createObservable() {\n  return new __WEBPACK_IMPORTED_MODULE_1__observable__[\"a\" /* default */]();\n}\n\n// creates a new observer\nfunction createObserver(name, parent) {\n  return new __WEBPACK_IMPORTED_MODULE_0__observer__[\"a\" /* default */](name, parent);\n}\n\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// observer class\nvar Observer = function () {\n  function Observer(name, parentEmitter) {\n    _classCallCheck(this, Observer);\n\n    this.name = name;\n    this.parentEmitter = parentEmitter;\n  }\n  // remove listener on a specific event, this.name is passed an will be compared to fn.name which is set on subscription\n\n\n  _createClass(Observer, [{\n    key: 'unsubscribe',\n    value: function unsubscribe(label) {\n      this.parentEmitter.removeListener(label, this.name);\n    }\n    // add a listener on a specific event, add this.name on fn.name\n\n  }, {\n    key: 'subscribe',\n    value: function subscribe(label, fn) {\n      Object.defineProperty(fn, 'name', {\n        enumerable: false,\n        configurable: true,\n        writable: true,\n        value: this.name\n      });\n      // bind fn to this\n      this.parentEmitter.addListener(label, fn.bind(this));\n    }\n    // emit change to parent\n\n  }, {\n    key: 'emit',\n    value: function emit(label) {\n      var _parentEmitter;\n\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      (_parentEmitter = this.parentEmitter).childNotify.apply(_parentEmitter, [label].concat(args));\n    }\n  }]);\n\n  return Observer;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Observer);\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_events__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_events___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_events__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n// observable class\n\nvar Observable = function (_EventEmitter) {\n  _inherits(Observable, _EventEmitter);\n\n  function Observable() {\n    _classCallCheck(this, Observable);\n\n    // all listeners\n    var _this = _possibleConstructorReturn(this, (Observable.__proto__ || Object.getPrototypeOf(Observable)).call(this));\n\n    _this.listeners = {};\n    return _this;\n  }\n  // adding the event name as key and all listeners as an array value\n\n\n  _createClass(Observable, [{\n    key: 'addListener',\n    value: function addListener(label, callback) {\n      if (!this.listeners[label]) this.listeners[label] = [];\n      this.listeners[label].push(callback);\n    }\n    // remove listener by observer name, when adding a listener, fn.name is added the observer name for easier removal\n\n  }, {\n    key: 'removeListener',\n    value: function removeListener(label, observerName) {\n      var listeners = this.listeners;\n      var index = null;\n      if (listeners[label] && listeners[label].length) {\n        for (var i = 0, len = listeners[label].length; i < len; i++) {\n          if (listeners[label][i].name.includes(observerName)) {\n            index = i;\n            break;\n          }\n        }\n        if (index !== null) {\n          listeners[label] = listeners[label].filter(function (fn) {\n            return fn !== listeners[label][index];\n          });\n        }\n      }\n    }\n    // emit to all observers subscribed to specific event, call all fns and pass args to them\n\n  }, {\n    key: 'emit',\n    value: function emit(label) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var listeners = this.listeners[label];\n      if (listeners && listeners.length) {\n        listeners.forEach(function (listener) {\n          return listener.apply(undefined, args);\n        });\n        return true;\n      }\n      return false;\n    }\n    // when a listener emits a change, notify all children\n\n  }, {\n    key: 'childNotify',\n    value: function childNotify(label) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      // same as emit but fired from child to notify parent that notifies all children\n      return this.emit.apply(this, [label].concat(args));\n    }\n  }]);\n\n  return Observable;\n}(__WEBPACK_IMPORTED_MODULE_0_events___default.a);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Observable);\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"events\");\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// backend.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 57b14cf6ed089702c31c","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 1\n// module chunks = 0","import Observer from './observer'\r\nimport Observable from './observable'\r\n\r\n// creates a new observable\r\nfunction createObservable(){\r\n  return new Observable()\r\n}\r\n\r\n// creates a new observer\r\nfunction createObserver(name, parent){\r\n  return new Observer(name, parent)\r\n}\r\n\r\n\r\nexport { createObservable, createObserver }\n\n\n// WEBPACK FOOTER //\n// ./index.js","// observer class\r\nexport default class Observer{\r\n  constructor(name, parentEmitter){\r\n    this.name = name\r\n    this.parentEmitter = parentEmitter\r\n  }\r\n  // remove listener on a specific event, this.name is passed an will be compared to fn.name which is set on subscription\r\n  unsubscribe(label){\r\n    this.parentEmitter.removeListener(label, this.name)\r\n  }\r\n  // add a listener on a specific event, add this.name on fn.name\r\n  subscribe(label, fn){\r\n    Object.defineProperty(fn,'name',{\r\n      enumerable: false,\r\n      configurable: true,\r\n      writable: true,\r\n      value: this.name\r\n    })\r\n    // bind fn to this\r\n    this.parentEmitter.addListener(label, fn.bind(this))\r\n  }\r\n  // emit change to parent\r\n  emit(label, ...args){\r\n    this.parentEmitter.childNotify(label, ...args)\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./observer.js","import EventEmitter from 'events'\r\n\r\n// observable class\r\nexport default class Observable extends EventEmitter{\r\n  constructor() {\r\n    super()\r\n    // all listeners\r\n    this.listeners = {}\r\n  }\r\n  // adding the event name as key and all listeners as an array value\r\n  addListener(label, callback) {\r\n    if(!this.listeners[label]) this.listeners[label] = []\r\n    this.listeners[label].push(callback)\r\n  }\r\n  // remove listener by observer name, when adding a listener, fn.name is added the observer name for easier removal\r\n  removeListener(label, observerName){\r\n    let listeners = this.listeners\r\n    let index = null\r\n    if(listeners[label] && listeners[label].length){\r\n      for(let i = 0, len = listeners[label].length; i < len; i++){\r\n        if(listeners[label][i].name.includes(observerName)){\r\n          index = i\r\n          break\r\n        }\r\n      }\r\n      if(index !== null){\r\n        listeners[label] = listeners[label].filter(fn => fn !== listeners[label][index])\r\n      }\r\n    }\r\n  }\r\n  // emit to all observers subscribed to specific event, call all fns and pass args to them\r\n  emit(label, ...args){\r\n    let listeners = this.listeners[label]\r\n    if (listeners && listeners.length) {\r\n      listeners.forEach(listener => listener(...args))\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n  // when a listener emits a change, notify all children\r\n  childNotify(label, ...args){\r\n    // same as emit but fired from child to notify parent that notifies all children\r\n    return this.emit(label, ...args)\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./observable.js","module.exports = require(\"events\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"events\"\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}